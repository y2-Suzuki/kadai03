<html>
<head>
<meta charset="UTF-8">
<title>TODO LIST</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
</head>
<div class="container m-3 p-4 shadow rounded">
    <h2><i class="fas fa-child"></i> to do List <i class="fas fa-child"></i></h2>
    <div class="form-inline mb-3">
      <input type="text" class="form-control w-50" id="todo" placeholder="I wanna do ..."  style="width:300px;height:50px"/>
      <button class="btn btn-primary ml-2" id="save" style="width:100px;height:50px">save</button>
      <button class="btn btn-danger ml-2" id="delete" style="width:100px;height:50px">delete </button>
      <!-- <button class="btn btn-danger ml-2" id="deleteall">delete all</button> -->
    </div>
    <ul class="list-group" id="list">
    </ul>
  </div>

  <script>
 $(function(){
    // 削除処理
    $("#delete").on("click", function(){
      localStorage.clear();
      showList();
    });
    
    // 保存処理
    $("#save").on("click", function(){
      localStorage.setItem(localStorage.length.toString(), $("#todo").val());
      $("#todo").val("");
      showList();
    });
  
    showList();
  });
  
  function showList() {
    $("#list").html("");
    for (let i = 0; i < localStorage.length; i++) {
      $("#list").append("<li class='list-group-item'><button class='btn btn-danger mr-2' onclick='deleteItem("+ localStorage.key(i) +")'><i class='fas fa-trash-alt'></i></button>" + localStorage.getItem(localStorage.key(i)) + "</li>");
    }
  }
  
  function deleteItem(i) {
    localStorage.removeItem(i);
    showList();
  }




  </script>
  